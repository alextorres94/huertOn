{% extends '::base.html.twig' %}

{% block body %}

	<link rel='stylesheet prefetch' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'>

	<div class="container">
  
  <!-- STEPS -->
  <div class="stepwizard">
    <div class="stepwizard-row setup-panel">
      <div class="stepwizard-step">
        <a href="#step-1" type="button" class="btn btn-primary btn-circle" style="width:100%; border-radius: 9px;">Paso 1</a>
      </div>
      <div class="stepwizard-step">
        <a href="#step-2" type="button" class="btn btn-default btn-circle disabled" style="width:100%; border-radius: 9px;">Paso 2</a>
      </div>
      <div class="stepwizard-step">
        <a href="#step-3" type="button" class="btn btn-default btn-circle disabled" style="width:100%; border-radius: 9px;">Paso 3</a>
      </div>
    </div>
  </div>
  <!-- END STEPS -->



  <!-- FORM -->
  <form role="form" id="form">

  <!-- STEP 1 -->
    <div class="row setup-content" id="step-1">
      <div class="col-xs-12">
        <div class="col-md-11">
          <h3> Paso 1</h3>
          <div class="form-group">
            <label class="control-label">¿Cómo se llama tu huerto?</label>
            <input id="orchard-id" maxlength="100" type="hidden" required class="form-control" />
            <input id="orchard-name" maxlength="100" type="text" required class="form-control" placeholder="Introduce el nombre del huerto"/>
          </div>
          <div class="form-group">
            <label class="control-label">¿Dónde está tu huerto?</label>
            <input id="orchard-town" maxlength="100" type="text" required class="form-control" placeholder="Población" /><br>
            <input id="orchard-street" maxlength="100" type="text" required class="form-control" placeholder="Calle" /><br>
            
            <div style="width: 100% ">
	            <input id="orchard-number" maxlength="100" type="text" class="form-control input-number" placeholder="Número" />
	            <input id="orchard-zipcode" maxlength="100" type="text" required class="form-control input-zipcode" placeholder="Código postal" /><br><br><br>
              <button id="btn-siguiente" class="btn btn-primary nextBtn pull-right">Siguiente</button>
          	</div>
          </div>
        </div>
      </div>






    </div>
    <!--END STEP 1 -->


  <!-- STEP 2 -->
    <div class="row setup-content" id="step-2">
      <div class="col-xs-12">
        <div class="col-md-11">
          <h3> Step 2</h3>
          <div class="form-group">
            <label class="control-label">CompanyName</label>
            <input maxlength="200" type="text" required="required" class="form-control" placeholder="Enter Company Name" />
          </div>
          <div class="form-group">
            <label class="control-label">Company Address</label>
            <input maxlength="200" type="text" required="required" class="form-control" placeholder="Enter Company Address" />
          </div>
          <button class="btn btn-primary nextBtn pull-right" type="button">Next</button>
        </div>
      </div>
    </div>
  <!-- END STEP 2 -->


  <!-- STEP 3 -->
    <div class="row setup-content" id="step-3">
      <div class="col-xs-12">
        <div class="col-md-11">
          <h3> Step 3</h3>
          <p>Take a moment to review the form, and edit any information.</p>
          <button class="btn btn-success pull-right" type="submit">Finish!</button>
        </div>
      </div>
    </div>
  <!-- END STEP 3 -->

  </form>
  <!-- END FORM -->

</div>


  	<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
	<script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/tooltipster/3.3.0/js/jquery.tooltipster.min.js'></script>
	<script src='http://cdn.jsdelivr.net/jquery.validation/1.15.0/jquery.validate.min.js'></script>

    <script src="{{ asset('js/form.js') }}"></script>

{% endblock %}




{% block javascripts %}

  <script type="text/javascript">

  $('#btn-siguiente').on('click', function() {
    var form =  {
      id: $('#orchard-id').val(),
      name: $('#orchard-name').val(),
      town: $('#orchard-town').val(),
      street: $('#orchard-street').val(),
      number: $('#orchard-number').val(),
      zipcode: $('#orchard-zipcode').val()
    };

    $.ajax({
      type: 'POST',
      dataType: 'json',
      url: '/orchard/insert',
      data: form,
      success: function(data) {
        $('input[id=orchard-id]').val(data.id);
      }
    });

  });

  </script>


{% endblock %}








