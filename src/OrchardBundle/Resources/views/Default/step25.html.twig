{% extends '::step-base.html.twig' %}

{% block body %}

<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-5 ">
		<h1 class="display-3">Paso 2.4</h1>

		<form>
			<div class="form-group steps-left-12 col-xs-12 col-sm-12 col-md-12 col-lg-5">
				<label><h4>Como inscribirse en tu huerto</h4></label><br>

				<div class="row">
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 clone-inside">
						<div class="1">
							<label for="ProjectStart">Paso 1</label><span id="start-chars">200</span>
							<textarea rows="4" cols="50" class="form-control" id="ProjectStart"  value="{{ orchard.projectStart }}" placeholder="El primer paso para inscribirte al huerto es..." maxlength="200"></textarea>
							<br>
						</div>
					</div>

				</div>


				<div class="new-step">Añadir un nuevo paso. <i class="fa fa-plus-circle fa-2x" aria-hidden="true"></i></div>
			</div>

			<div class="fixed-buttons row">
				<button id="btn-atras" type="button" class="btn btn-secondary col-xs-6 col-sm-6 col-md-6 col-lg-6">Atrás</button>
				<button id="btn-siguiente" type="submit" class="btn btn-primary col-xs-6 col-sm-6 col-md-6 col-lg-6" disabled="disabled">Siguiente</button>
			</div>

			<input type="text" id="Step" hidden="hidden" value="25">

		</form>


	</div>

	<div class="col-xs-12 col-sm-12 col-md-6 col-lg-7 steps-right">
		<img src="{{ asset('img/step12.png') }}" width="100%" height="100%">
	</div>

</div>

{% endblock %}

{% block javascripts %}
	<script type="text/javascript">
		$('#progressbar').val(localStorage.getItem('lastProgress')).animate({'value': 100 + '%','aria-valuenow': 100}, {duration: 400, easing: 'linear'});
	</script>

	<script type="text/javascript">
		//contador de caracteres restantes
			$( document ).ready(function() {
				var maxLength = 200;
				$('textarea').keyup(function() {
					var length = $(this).val().length;
					var length = maxLength-length;
					$(this).prev().text(length);
					if(length == 0) {
							$(this).addClass( "ta-maxlength" );
					}else {
							$(this).removeClass( "ta-maxlength" );
					}
				});
			});
	</script>

	<script type="text/javascript">
		//add new step on click
			$( document ).ready(function() {
				var inscriptionStep = 2;
				$('.new-step').click(function() {
					$( ".1" ).clone().removeClass( "1" ).addClass(""+inscriptionStep).appendTo( ".clone-inside" );
					$( "."+inscriptionStep+" > label" ).text("Paso "+inscriptionStep);
					inscriptionStep++;
				});
			});
	</script>
{% endblock %}
